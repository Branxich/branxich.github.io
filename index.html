<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Branxi Â· Perp DEX Referrals</title>
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<style>
/* â”€â”€â”€ RESET â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
:root {
  --bg: #0a0a0e;
  --cyan: #00eaff;
  --purple: #aa00ff;
  --fade: #0a0a0e;          /* must match bg for fade-out effect */
  --gap: 20px;
  --card-h: 165px;
  --card-w: 220px;
}
html, body {
  height: 100%;
  background: var(--bg);
  color: #fff;
  font-family: 'Syne', sans-serif;
  overflow-x: hidden;
}

/* â”€â”€â”€ WEBGL BACKGROUND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#bg-canvas {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
}

/* â”€â”€â”€ PAGE SHELL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.page {
  position: relative;
  z-index: 1;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-bottom: 80px;
}

/* â”€â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
header {
  width: 100%;
  max-width: 1100px;
  padding: 24px 32px 0;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 14px;
}
.made-by {
  font-family: 'DM Mono', monospace;
  font-size: 13px;
  color: rgba(255,255,255,.38);
  letter-spacing: .04em;
  white-space: nowrap;
}
.x-button {
  font-size: 15px;
  border-radius: 12px;
  background: linear-gradient(180deg, rgb(56,56,56) 0%, rgb(36,36,36) 66%, rgb(41,41,41) 100%);
  color: rgb(218,218,218);
  border: none;
  padding: 2px;
  font-weight: 700;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  text-decoration: none;
  display: inline-block;
  font-family: 'Syne', sans-serif;
}
.x-button span {
  border-radius: 10px;
  padding: 0.55em 1.1em;
  text-shadow: 0px 0px 20px #4b4b4b;
  width: 100%;
  display: flex;
  align-items: center;
  gap: 9px;
  color: inherit;
  transition: background-color 0.3s;
  background-color: rgb(29,29,29);
  background-image:
    radial-gradient(at 95% 89%, rgb(15,15,15) 0px, transparent 50%),
    radial-gradient(at 0% 100%, rgb(17,17,17) 0px, transparent 50%),
    radial-gradient(at 0% 0%, rgb(29,29,29) 0px, transparent 50%);
  white-space: nowrap;
}
.x-button:hover span {
  background-color: rgb(26,25,25);
}
.x-button-overlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: repeating-conic-gradient(rgb(48,47,47) 0.0000001%, rgb(51,51,51) 0.000104%) 60% 60% / 600% 600%;
  filter: opacity(10%) contrast(105%);
}
.x-button svg {
  width: 14px;
  height: 14px;
  fill: rgb(218,218,218);
  flex-shrink: 0;
}

/* â”€â”€â”€ HERO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.hero {
  text-align: center;
  margin: 32px 0 36px;
  padding: 0 20px;
}

.hero h1 {
  font-size: clamp(36px, 5vw, 68px);
  font-weight: 800;
  letter-spacing: -.02em;
  font-family: 'Space Grotesk', sans-serif;
  background: linear-gradient(135deg,#fff 30%,rgba(255,255,255,.5));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.hero p {
  margin-top: 12px;
  font-family: 'DM Mono', monospace;
  font-size: 15px;
  color: rgba(255,255,255,.38);
  letter-spacing: .1em;
  text-transform: uppercase;
}

/* â”€â”€â”€ PILL NAV â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.pill-nav {
  display: flex;
  align-items: center;
  gap: 6px;
  background: rgba(255,255,255,.05);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 100px;
  padding: 5px;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  margin: -24px 0 48px;
  position: sticky;
  top: 20px;
  z-index: 100;
}
.pill-btn {
  position: relative;
  font-family: 'DM Mono', monospace;
  font-size: 13px;
  font-weight: 600;
  letter-spacing: .05em;
  color: rgba(255,255,255,.45);
  background: none;
  border: none;
  border-radius: 100px;
  padding: 9px 22px;
  cursor: pointer;
  transition: color .25s;
  white-space: nowrap;
  z-index: 1;
}
.pill-btn.active {
  color: #fff;
}
.pill-indicator {
  position: absolute;
  top: 5px;
  left: 5px;
  height: calc(100% - 10px);
  border-radius: 100px;
  background: linear-gradient(135deg, rgba(0,234,255,.15), rgba(170,0,255,.15));
  border: 1px solid rgba(0,234,255,.25);
  box-shadow: 0 0 18px rgba(0,234,255,.08);
  transition: transform .3s cubic-bezier(.34,1.56,.64,1), width .3s cubic-bezier(.34,1.56,.64,1);
  pointer-events: none;
  z-index: 0;
}

/* â”€â”€â”€ SECTIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.section-page {
  width: 100%;
  display: none;
  flex-direction: column;
  align-items: center;
}
.section-page.active {
  display: flex;
}

/* â”€â”€â”€ LOGOLOOP WRAPPER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.loop-outer {
  position: relative;
  width: 100%;
  overflow: hidden;
  /* edge fade matching LogoLoop CSS */
  --fade-w: clamp(40px, 8%, 140px);
}
.loop-outer::before,
.loop-outer::after {
  content: '';
  position: absolute;
  top: 0; bottom: 0;
  width: var(--fade-w);
  pointer-events: none;
  z-index: 10;
}
.loop-outer::before {
  left: 0;
  background: linear-gradient(to right, var(--fade) 0%, transparent 100%);
}
.loop-outer::after {
  right: 0;
  background: linear-gradient(to left, var(--fade) 0%, transparent 100%);
}

/* the scrolling track */
.loop-track {
  display: flex;
  align-items: center;
  width: max-content;
  will-change: transform;
  user-select: none;
  padding: 16px 0 24px;  /* vertical breathing room */
}

/* one repeating sequence */
.loop-seq {
  display: flex;
  align-items: center;
  gap: var(--gap);
  padding-right: var(--gap);  /* gap after last item */
}

/* â”€â”€â”€ DEX CARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.dex-card {
  position: relative;
  flex: 0 0 auto;
  width: var(--card-w);
  height: var(--card-h);
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 18px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 18px;
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  text-decoration: none;
  overflow: hidden;
  transition: border-color .3s, box-shadow .3s, transform .3s;
  cursor: pointer;
}

/* gradient border glow on hover */
.dex-card::before {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: 18px;
  background: linear-gradient(135deg, var(--cyan), var(--purple));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  padding: 1px;
  opacity: 0;
  transition: opacity .3s;
}

/* subtle inner top glow */
.dex-card::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 18px;
  background: radial-gradient(ellipse 70% 50% at 50% 0%, rgba(0,234,255,.07), transparent 70%);
  pointer-events: none;
}

.dex-card:hover {
  border-color: transparent;
  box-shadow:
    0 0 0 1px rgba(0,234,255,.45),
    0 0 30px rgba(0,234,255,.1),
    0 8px 32px rgba(0,0,0,.5);
  transform: translateY(-4px);
}
.dex-card:hover::before { opacity: 1; }

/* "coming soon" dim */
.dex-card.soon {
  opacity: .5;
  cursor: default;
  pointer-events: none;
}

.card-logo {
  width: 72px;
  height: 72px;
  object-fit: contain;
  border-radius: 10px;
  position: relative;
  z-index: 1;
  flex-shrink: 0;
}
.card-name {
  font-size: 13px;
  font-weight: 700;
  color: rgba(255,255,255,.75);
  letter-spacing: .06em;
  text-transform: uppercase;
  position: relative;
  z-index: 1;
  text-align: center;
  font-family: 'DM Mono', monospace;
}



.card-badge {
  font-family: 'DM Mono', monospace;
  font-size: 10px;
  letter-spacing: .08em;
  color: rgba(255,255,255,.3);
  text-transform: uppercase;
  position: relative;
  z-index: 1;
}

/* â”€â”€â”€ FOOTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
/* â”€â”€â”€ POSTS CAROUSEL (marquee-style) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.posts-loop-outer {
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow-clip-margin: 0;
  padding-bottom: 20px;
  margin-bottom: -20px;
  --fade-w: clamp(40px, 8%, 140px);
}
.posts-loop-outer::before,
.posts-loop-outer::after {
  content: '';
  position: absolute;
  top: 0; bottom: 0;
  width: var(--fade-w);
  pointer-events: none;
  z-index: 10;
}
.posts-loop-outer::before {
  left: 0;
  background: linear-gradient(to right, var(--fade) 0%, transparent 100%);
}
.posts-loop-outer::after {
  right: 0;
  background: linear-gradient(to left, var(--fade) 0%, transparent 100%);
}
.posts-loop-track {
  display: flex;
  align-items: flex-start;
  width: max-content;
  will-change: transform;
  user-select: none;
  padding: 16px 0 24px;
  gap: 24px;
}
.post-card {
  flex: 0 0 auto;
  display: block;
  position: relative;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.03);
  text-decoration: none;
  transition: border-color .3s, box-shadow .3s, transform .3s;
  cursor: pointer;
  width: 380px;
}
.post-card::before {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: 18px;
  background: linear-gradient(135deg, var(--cyan), var(--purple));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  padding: 1px;
  opacity: 0;
  transition: opacity .3s;
  pointer-events: none;
}
.post-card:hover {
  border-color: transparent;
  box-shadow: 0 0 0 1px rgba(0,234,255,.45), 0 0 30px rgba(0,234,255,.1), 0 8px 32px rgba(0,0,0,.5);
  transform: translateY(-4px);
}
.post-card:hover::before { opacity: 1; }
.post-card img {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 18px;
}

/* â”€â”€â”€ TWEETS SECTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.tweets-section {
  width: 100%;
  max-width: 1400px;
  margin: 72px 32px 0;
  padding: 0 32px;
}
.tweets-title {
  text-align: center;
  font-family: 'DM Mono', monospace;
  font-size: 12px;
  color: rgba(255,255,255,.35);
  letter-spacing: .12em;
  text-transform: uppercase;
  margin-bottom: 28px;
}
.tweets-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 18px;
}
.tweet-card {
  position: relative;
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 18px;
  overflow: hidden;
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  transition: border-color .3s, box-shadow .3s, transform .3s;
  min-height: 200px;
  display: flex;
  align-items: stretch;
}
.tweet-card::before {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: 18px;
  background: linear-gradient(135deg, var(--cyan), var(--purple));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  padding: 1px;
  opacity: 0;
  transition: opacity .3s;
  pointer-events: none;
}
.tweet-card:hover {
  border-color: transparent;
  box-shadow: 0 0 0 1px rgba(0,234,255,.4), 0 0 30px rgba(0,234,255,.08), 0 8px 32px rgba(0,0,0,.5);
  transform: translateY(-3px);
}
.tweet-card:hover::before { opacity: 1; }
.tweet-card .twitter-widget-wrap {
  width: 100%;
  display: flex;
  align-items: stretch;
}
/* Override Twitter embed iframe to fill card */
.tweet-card twitterwidget,
.tweet-card .twitter-tweet-rendered {
  width: 100% !important;
  margin: 0 !important;
}
@media(max-width:640px){
  .tweets-grid { grid-template-columns: 1fr; }
}

footer {
  margin-top: 72px;
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: rgba(255,255,255,.14);
  letter-spacing: .08em;
  text-transform: uppercase;
  text-align: center;
}

/* â”€â”€â”€ AIRDROP CALCULATOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.calc-wrap {
  width: 100%;
  max-width: 560px;
  padding: 32px 28px 60px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 24px;
  background: rgba(10,10,14,.75);
  border: 1px solid rgba(255,255,255,.07);
  border-radius: 28px;
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  margin-bottom: 40px;
}
.calc-intro {
  text-align: center;
  font-family: 'DM Mono', monospace;
  font-size: 13px;
  line-height: 1.7;
  color: rgba(255,255,255,.4);
  letter-spacing: .03em;
}

/* DEX tabs */
.dex-tabs {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  justify-content: center;
}
.dex-tab {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  font-weight: 600;
  letter-spacing: .08em;
  text-transform: uppercase;
  color: rgba(255,255,255,.4);
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 100px;
  padding: 7px 16px;
  cursor: pointer;
  transition: all .2s;
}
.dex-tab:hover { color: rgba(255,255,255,.75); border-color: rgba(255,255,255,.18); }
.dex-tab.active {
  color: var(--cyan);
  background: rgba(0,234,255,.07);
  border-color: rgba(0,234,255,.3);
  box-shadow: 0 0 14px rgba(0,234,255,.08);
}

/* Input fields */
.calc-fields {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}
.field-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.field-group label {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  letter-spacing: .08em;
  text-transform: uppercase;
  color: rgba(255,255,255,.35);
}
.field-unit {
  color: rgba(255,255,255,.2);
  font-size: 10px;
  text-transform: none;
  letter-spacing: 0;
}
.field-group input {
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.1);
  border-radius: 12px;
  padding: 12px 16px;
  color: #fff;
  font-family: 'DM Mono', monospace;
  font-size: 14px;
  outline: none;
  transition: border-color .2s, box-shadow .2s;
  -moz-appearance: textfield;
}
.field-group input::-webkit-outer-spin-button,
.field-group input::-webkit-inner-spin-button { -webkit-appearance: none; }
.field-group input:focus {
  border-color: rgba(0,234,255,.35);
  box-shadow: 0 0 0 3px rgba(0,234,255,.06);
}

/* Result card */
.result-card {
  position: relative;
  background: rgba(10,10,14,.85);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 20px;
  padding: 28px 28px 24px;
  overflow: hidden;
  transition: border-color .3s;
}
.result-card::before {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: 20px;
  background: linear-gradient(135deg, var(--cyan), var(--purple));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  padding: 1px;
  opacity: 0;
  transition: opacity .4s;
}
.result-card.has-value::before { opacity: 1; }
.result-card::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse 70% 40% at 50% 0%, rgba(0,234,255,.05), transparent 70%);
  pointer-events: none;
  z-index: 1;
}
/* template background image â€” right side, fades left */
.card-bg-img {
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center right;
  border-radius: 20px;
  opacity: 0;
  transition: opacity .4s;
  z-index: 0;
  -webkit-mask-image: linear-gradient(to left, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.35) 45%, transparent 80%);
  mask-image: linear-gradient(to left, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.35) 45%, transparent 80%);
}
.card-bg-img.visible { opacity: 1; }
/* make all card content sit above the bg */
.result-tier, .result-main, .result-stats { position: relative; z-index: 2; }
.result-tier {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  letter-spacing: .14em;
  text-transform: uppercase;
  color: rgba(255,255,255,.3);
  margin-bottom: 10px;
}
.result-tier.tier-plankton  { color: rgba(255,255,255,.4); }
.result-tier.tier-shrimp    { color: #00eaff; }
.result-tier.tier-dolphin   { color: #7b61ff; }
.result-tier.tier-shark     { color: #ff6b35; }
.result-tier.tier-whale     { color: #ffd700; text-shadow: 0 0 20px rgba(255,215,0,.4); }

.result-main {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin-bottom: 22px;
}
.result-label {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  letter-spacing: .08em;
  text-transform: uppercase;
  color: rgba(255,255,255,.3);
}
.result-value {
  font-family: 'Space Grotesk', sans-serif;
  font-size: clamp(32px, 6vw, 48px);
  font-weight: 800;
  letter-spacing: -.02em;
  background: linear-gradient(135deg, #fff 40%, rgba(255,255,255,.5));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.result-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  padding-top: 18px;
  border-top: 1px solid rgba(255,255,255,.07);
}
.result-stat { display: flex; flex-direction: column; gap: 5px; }
.stat-label {
  font-family: 'DM Mono', monospace;
  font-size: 10px;
  letter-spacing: .07em;
  text-transform: uppercase;
  color: rgba(255,255,255,.28);
}
.stat-val {
  font-family: 'DM Mono', monospace;
  font-size: 13px;
  font-weight: 600;
  color: rgba(255,255,255,.75);
}

/* Action buttons */
.calc-actions {
  display: flex;
  gap: 12px;
}
.calc-btn {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-family: 'DM Mono', monospace;
  font-size: 13px;
  font-weight: 600;
  letter-spacing: .05em;
  border-radius: 12px;
  padding: 14px 20px;
  border: none;
  cursor: pointer;
  transition: all .2s;
}
.btn-image {
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  color: rgba(255,255,255,.8);
}
.btn-image:hover {
  background: rgba(255,255,255,.1);
  color: #fff;
}
.btn-share {
  background: linear-gradient(135deg, rgba(0,234,255,.15), rgba(170,0,255,.15));
  border: 1px solid rgba(0,234,255,.25);
  color: var(--cyan);
}
.btn-share:hover {
  background: linear-gradient(135deg, rgba(0,234,255,.22), rgba(170,0,255,.22));
  box-shadow: 0 0 20px rgba(0,234,255,.12);
}

/* Modal */
.modal-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.75);
  backdrop-filter: blur(8px);
  z-index: 500;
  align-items: center;
  justify-content: center;
  padding: 20px;
}
.modal-overlay.open { display: flex; }
.modal-box {
  position: relative;
  background: #111118;
  border: 1px solid rgba(255,255,255,.1);
  border-radius: 24px;
  padding: 32px;
  width: 100%;
  max-width: 480px;
  max-height: 90vh;
  overflow-y: auto;
}
.modal-close {
  position: absolute;
  top: 16px; right: 16px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.1);
  border-radius: 50%;
  width: 32px; height: 32px;
  color: rgba(255,255,255,.5);
  font-size: 12px;
  cursor: pointer;
  transition: all .2s;
  display: flex; align-items: center; justify-content: center;
}
.modal-close:hover { background: rgba(255,255,255,.12); color: #fff; }
.modal-title {
  font-family: 'DM Mono', monospace;
  font-size: 12px;
  letter-spacing: .1em;
  text-transform: uppercase;
  color: rgba(255,255,255,.4);
  margin-bottom: 20px;
}
.template-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}
.template-slot {
  aspect-ratio: 1.5;
  border-radius: 12px;
  overflow: hidden;
  border: 2px solid rgba(255,255,255,.08);
  cursor: pointer;
  transition: border-color .2s, transform .2s, box-shadow .2s;
  position: relative;
}
.template-slot img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  border-radius: 10px;
}
.template-slot:hover {
  border-color: rgba(255,255,255,.3);
  transform: scale(1.03);
}
.template-slot.selected {
  border-color: var(--cyan);
  box-shadow: 0 0 16px rgba(0,234,255,.25);
}
.template-slot.selected::after {
  content: 'âœ“';
  position: absolute;
  top: 6px; right: 8px;
  font-size: 14px;
  color: var(--cyan);
  text-shadow: 0 0 8px rgba(0,234,255,.6);
}

@media(max-width:480px) {
  .calc-fields { grid-template-columns: 1fr; }
  .result-stats { grid-template-columns: 1fr 1fr; }
  .template-grid { grid-template-columns: repeat(2, 1fr); }
}

/* reduced motion */
@media (prefers-reduced-motion: reduce) {
  .loop-track { transform: none !important; }
}
</style>
</head>
<body>

<!-- PixelBlast-faithful WebGL background -->
<canvas id="bg-canvas"></canvas>

<div class="page">
  <header>
    <span class="made-by">Made by</span>
    <a href="https://x.com/OG_Branxi" target="_blank" rel="noopener" class="x-button">
      <span>
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.744l7.737-8.835L1.254 2.25H8.08l4.253 5.622zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
        </svg>
        Branxi
      </span>
      <div class="x-button-overlay"></div>
    </a>
  </header>

  <section class="hero">
    <h1>Perp DEX List</h1>
    <p>Currently Trading On</p>
  </section>

  <!-- Pill Navigation -->
  <nav class="pill-nav" id="pillNav">
    <div class="pill-indicator" id="pillIndicator"></div>
    <button class="pill-btn active" data-page="dex">Perp DEX List</button>
    <button class="pill-btn" data-page="airdrop">Airdrop Calculator</button>
  </nav>

  <!-- PAGE: DEX List -->
  <div class="section-page active" id="page-dex">

    <!-- LogoLoop-style marquee -->
    <div class="loop-outer" id="loopOuter">
      <div class="loop-track" id="loopTrack">
        <!-- sequences injected by JS -->
      </div>
    </div>

    <!-- Posts Carousel -->
    <section class="tweets-section">
      <p class="tweets-title">Latest from X</p>
      <div class="posts-loop-outer" id="postsOuter">
        <div class="posts-loop-track" id="postsTrack">

          <a class="post-card" href="https://x.com/OG_Branxi/status/2022691127275716733" target="_blank" rel="noopener">
            <img src="assets/post_treadfi.png" alt="How to Optimize TreadFi MM Bot" draggable="false">
          </a>

          <a class="post-card" href="https://x.com/OG_Branxi/status/2027441892833824793" target="_blank" rel="noopener">
            <img src="assets/post_hotstuff.png" alt="Hotstuff retro points drop" draggable="false">
          </a>

          <a class="post-card" href="https://x.com/OG_Branxi/status/2026301178213281911" target="_blank" rel="noopener">
            <img src="assets/post_dreamcash.png" alt="Dreamcash XP and TreadFi points" draggable="false">
          </a>

          <a class="post-card" href="https://x.com/OG_Branxi/status/2025254149965971493" target="_blank" rel="noopener">
            <img src="assets/post_nado.png" alt="Nado points optimization" draggable="false">
          </a>

      </div>
    </div>
  </section>

  </div><!-- /page-dex -->

  <!-- PAGE: Airdrop Calculator -->
  <div class="section-page" id="page-airdrop">
    <div class="calc-wrap">
      <p class="calc-intro">Calculate your potential airdrop based on your points balance.<br>Preset values are community estimates â€” adjust them freely.</p>

      <!-- DEX Tabs -->
      <div class="dex-tabs" id="dexTabs">
        <button class="dex-tab active" data-dex="nado">Nado</button>
        <button class="dex-tab" data-dex="variational">Variational</button>
        <button class="dex-tab" data-dex="treadfi">TreadFi</button>
        <button class="dex-tab" data-dex="01exchange">01Exchange</button>
        <button class="dex-tab" data-dex="extended">Extended</button>
        <button class="dex-tab" data-dex="pacifica">Pacifica</button>
        <button class="dex-tab" data-dex="grvt">GRVT</button>
        <button class="dex-tab" data-dex="ethereal">Ethereal</button>
        <button class="dex-tab" data-dex="edgex">EdgeX</button>
      </div>

      <!-- Input Fields -->
      <div class="calc-fields">
        <div class="field-group">
          <label>My Points</label>
          <input type="number" id="inp-mypoints" placeholder="Enter your points" min="0">
        </div>
        <div class="field-group">
          <label>FDV <span class="field-unit">(billions $)</span></label>
          <input type="number" id="inp-fdv" step="0.01" min="0">
        </div>
        <div class="field-group">
          <label>Total Points</label>
          <input type="number" id="inp-totalpoints" min="0">
        </div>
        <div class="field-group">
          <label>Airdrop % Supply</label>
          <input type="number" id="inp-supply" step="0.1" min="0" max="100">
        </div>
      </div>

      <!-- Result Card -->
      <div class="result-card" id="resultCard">
        <div class="card-bg-img" id="cardBgImg"></div>
        <div class="result-tier" id="resTier">â€”</div>
        <div class="result-main">
          <span class="result-label">Your potential airdrop</span>
          <span class="result-value" id="resAirdrop">$0</span>
        </div>
        <div class="result-stats">
          <div class="result-stat">
            <span class="stat-label">Total Airdrop Pool</span>
            <span class="stat-val" id="resPool">â€”</span>
          </div>
          <div class="result-stat">
            <span class="stat-label">Your Share</span>
            <span class="stat-val" id="resShare">â€”</span>
          </div>
          <div class="result-stat">
            <span class="stat-label">Price per Point</span>
            <span class="stat-val" id="resPrice">â€”</span>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="calc-actions">
        <button class="calc-btn btn-image" id="btnCreateImage">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/></svg>
          Create Image
        </button>
        <button class="calc-btn btn-share" id="btnShareX">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.744l7.737-8.835L1.254 2.25H8.08l4.253 5.622zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
          Share on X
        </button>
      </div>
    </div>

    <!-- Create Image Modal -->
    <div class="modal-overlay" id="imageModal">
      <div class="modal-box">
        <button class="modal-close" id="modalClose">âœ•</button>
        <p class="modal-title">Choose Card Background</p>
        <div class="template-grid" id="templateGrid">
          <div class="template-slot" data-template="assets/templates/template_1.png"><img src="assets/templates/template_1.png" alt="Template 1"></div>
          <div class="template-slot" data-template="assets/templates/template_2.png"><img src="assets/templates/template_2.png" alt="Template 2"></div>
          <div class="template-slot" data-template="assets/templates/template_3.png"><img src="assets/templates/template_3.png" alt="Template 3"></div>
          <div class="template-slot" data-template="assets/templates/template_4.png"><img src="assets/templates/template_4.png" alt="Template 4"></div>
          <div class="template-slot" data-template="assets/templates/template_5.png"><img src="assets/templates/template_5.png" alt="Template 5"></div>
          <div class="template-slot" data-template="assets/templates/template_6.png"><img src="assets/templates/template_6.png" alt="Template 6"></div>
          <div class="template-slot" data-template="assets/templates/template_7.png"><img src="assets/templates/template_7.png" alt="Template 7"></div>
        </div>
        <button class="calc-btn btn-share" id="btnDownload" style="margin-top:24px; width:100%; justify-content:center; opacity:.4; cursor:not-allowed;" disabled>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
          Download Card
        </button>
      </div>
    </div>
  </div><!-- /page-airdrop -->

  <footer>Â© 2026 Branxi</footer>
</div>

<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   1. DEX DATA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const LOGOS = {};
LOGOS['treadfi']    = 'assets/logo_treadfi.png';
LOGOS['nado']       = 'assets/logo_nado.jpeg';
LOGOS['variational']= 'assets/logo_variational.png';
LOGOS['hotstuff']   = 'assets/logo_hotstuff.png';
LOGOS['01exchange'] = 'assets/logo_01exchange.jpeg';
LOGOS['extended']   = 'assets/logo_extended.png';
LOGOS['dreamcash']  = 'assets/logo_dreamcash.jpeg';
LOGOS['riseX']      = 'assets/logo_riseX.jpeg';

const DEX = [
  { name: 'TreadFi',    key: 'treadfi',    href: 'https://app.tread.fi/referral/7WG1VZXC' },
  { name: 'Nado',       key: 'nado',       href: 'https://app.nado.xyz?join=6HuO5CL' },
  { name: 'Variational',key: 'variational',href: 'https://omni.variational.io/?ref=OMNIVSZU495O' },
  { name: 'Hotstuff',   key: 'hotstuff',   href: 'https://app.hotstuff.trade/join/branxi' },
  { name: '01exchange', key: '01exchange', href: 'https://01.xyz/ref/branxi' },
  { name: 'Extended',   key: 'extended',   href: 'https://app.extended.exchange/join/BRANXI' },
  { name: 'Dreamcash',  key: 'dreamcash',  href: 'https://trade.dreamcash.xyz/trade?code=BRANXI' },
  { name: 'RiseX',      key: 'riseX',      href: null },   // coming soon
];

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   2. BUILD MARQUEE (LogoLoop approach: duplicate sequences until enough)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function buildCard(dex) {
  const el = dex.href
    ? document.createElement('a')
    : document.createElement('div');

  el.className = 'dex-card' + (dex.href ? '' : ' soon');
  if (dex.href) { el.href = dex.href; el.target = '_blank'; el.rel = 'noopener'; }

  const logo = LOGOS[dex.key];
  el.innerHTML = `
    ${logo ? `<img class="card-logo" src="${logo}" alt="${dex.name} logo" draggable="false">` : ''}
    <span class="card-name">${dex.name}</span>
    ${!dex.href ? `<span class="card-badge">Coming soon</span>` : ''}`;
  return el;
}

function buildSeq(isFirst) {
  const ul = document.createElement('div');
  ul.className = 'loop-seq';
  ul.setAttribute('aria-hidden', isFirst ? 'false' : 'true');
  DEX.forEach(d => ul.appendChild(buildCard(d)));
  return ul;
}

const track  = document.getElementById('loopTrack');
const outer  = document.getElementById('loopOuter');
const GAP_PX = 20; // must match --gap

// Build sequences until we have enough to fill the viewport + 2 extra
function ensureEnough() {
  const vw = outer.clientWidth;
  // measure first seq
  let firstSeq = track.querySelector('.loop-seq');
  if (!firstSeq) { firstSeq = buildSeq(true); track.appendChild(firstSeq); }

  const seqW = firstSeq.getBoundingClientRect().width;
  if (seqW === 0) return;

  const needed = Math.ceil(vw / seqW) + 2;
  const current = track.querySelectorAll('.loop-seq').length;
  for (let i = current; i < needed; i++) track.appendChild(buildSeq(false));
  return seqW;
}

let seqWidth = 0;
window.addEventListener('DOMContentLoaded', () => {
  seqWidth = ensureEnough() || 0;
});
window.addEventListener('resize', () => { seqWidth = ensureEnough() || seqWidth; });
// retry after fonts load
document.fonts.ready.then(() => { seqWidth = ensureEnough() || seqWidth; });

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   3. ANIMATION LOOP â€” faithful port of LogoLoop's useAnimationLoop
      SMOOTH_TAU = 0.25, direction = 'left', speed = 110 px/s
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const SMOOTH_TAU    = 0.25;
const TARGET_SPEED  = 110;   // px/s rightward scroll
let   velocity      = 0;
let   offset        = 0;
let   lastTs        = null;
let   isHovered     = false;

outer.addEventListener('mouseenter', () => isHovered = true);
outer.addEventListener('mouseleave', () => isHovered = false);

function animate(ts) {
  if (lastTs === null) lastTs = ts;
  const dt = Math.max(0, ts - lastTs) / 1000;
  lastTs = ts;

  const target = isHovered ? 0 : TARGET_SPEED;
  const ease   = 1 - Math.exp(-dt / SMOOTH_TAU);
  velocity    += (target - velocity) * ease;

  if (seqWidth > 0) {
    offset = ((offset + velocity * dt) % seqWidth + seqWidth) % seqWidth;
    track.style.transform = `translate3d(${-offset}px, 0, 0)`;
  }

  requestAnimationFrame(animate);
}
requestAnimationFrame(animate);

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   4. DOT GRID BACKGROUND â€” faithful port of DotGrid.tsx
      dotSize=5, gap=15, baseColor="#271E37", activeColor="#5227FF"
      proximity=120, shockRadius=250, shockStrength=5
      resistance=750, returnDuration=1.5
      Physics: spring/damper replaces GSAP InertiaPlugin
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
(function () {
  const canvas = document.getElementById('bg-canvas');
  const ctx    = canvas.getContext('2d');
  if (!ctx) return;

  // â”€â”€ Config (matches DotGrid usage props) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const DOT_SIZE       = 5;
  const GAP            = 15;
  const BASE_COLOR     = { r: 0x27, g: 0x1E, b: 0x37 };
  const ACTIVE_COLOR   = { r: 0x52, g: 0x27, b: 0xFF };
  const PROXIMITY      = 120;
  const PROX_SQ        = PROXIMITY * PROXIMITY;
  const SHOCK_RADIUS   = 250;
  const SHOCK_STRENGTH = 5;
  const RESISTANCE     = 750;   // px/sÂ² deceleration
  const RETURN_DUR    = 1.5;    // s â€” elastic return
  const SPEED_TRIGGER  = 100;   // px/s to activate push
  const MAX_SPEED      = 5000;

  const DPR = Math.min(window.devicePixelRatio || 1, 2);

  // â”€â”€ Dot state â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  let dots = [];

  function buildGrid() {
    const W = window.innerWidth;
    const H = window.innerHeight;
    canvas.width        = W * DPR;
    canvas.height       = H * DPR;
    canvas.style.width  = W + 'px';
    canvas.style.height = H + 'px';
    ctx.scale(DPR, DPR);

    const cell = DOT_SIZE + GAP;
    const cols = Math.floor((W + GAP) / cell);
    const rows = Math.floor((H + GAP) / cell);
    const gridW = cell * cols - GAP;
    const gridH = cell * rows - GAP;
    const startX = (W - gridW) / 2 + DOT_SIZE / 2;
    const startY = (H - gridH) / 2 + DOT_SIZE / 2;

    dots = [];
    for (let r = 0; r < rows; r++) {
      for (let c = 0; c < cols; c++) {
        dots.push({
          cx: startX + c * cell,
          cy: startY + r * cell,
          // current offset
          ox: 0, oy: 0,
          // velocity of offset
          vx: 0, vy: 0,
          // spring state: 'idle' | 'pushed' | 'returning'
          state: 'idle'
        });
      }
    }
  }

  window.addEventListener('resize', () => { buildGrid(); });
  buildGrid();

  // â”€â”€ Pointer tracking â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const ptr = { x: -9999, y: -9999, vx: 0, vy: 0, speed: 0, lastX: 0, lastY: 0, lastT: 0 };

  let moveThrottle = 0;
  window.addEventListener('mousemove', e => {
    const now = performance.now();
    if (now - moveThrottle < 16) return;
    moveThrottle = now;

    const dt = ptr.lastT ? (now - ptr.lastT) / 1000 : 0.016;
    const dx = e.clientX - ptr.lastX;
    const dy = e.clientY - ptr.lastY;
    let vx = dx / dt, vy = dy / dt;
    let spd = Math.hypot(vx, vy);
    if (spd > MAX_SPEED) { const s = MAX_SPEED / spd; vx *= s; vy *= s; spd = MAX_SPEED; }

    ptr.lastX = e.clientX; ptr.lastY = e.clientY; ptr.lastT = now;
    ptr.vx = vx; ptr.vy = vy; ptr.speed = spd;
    ptr.x = e.clientX; ptr.y = e.clientY;

    // push nearby dots
    if (spd > SPEED_TRIGGER) {
      for (const d of dots) {
        if (d.state !== 'idle') continue;
        const dist = Math.hypot(d.cx - ptr.x, d.cy - ptr.y);
        if (dist < PROXIMITY) {
          d.state = 'pushed';
          // initial velocity burst toward push direction
          const pushX = (d.cx - ptr.x) + vx * 0.005;
          const pushY = (d.cy - ptr.y) + vy * 0.005;
          const mag = Math.hypot(pushX, pushY) || 1;
          d.vx = (pushX / mag) * spd * 0.12;
          d.vy = (pushY / mag) * spd * 0.12;
        }
      }
    }
  }, { passive: true });

  window.addEventListener('click', e => {
    for (const d of dots) {
      const dist = Math.hypot(d.cx - e.clientX, d.cy - e.clientY);
      if (dist < SHOCK_RADIUS) {
        d.state = 'pushed';
        const falloff = Math.max(0, 1 - dist / SHOCK_RADIUS);
        const pushX = (d.cx - e.clientX) * SHOCK_STRENGTH * falloff;
        const pushY = (d.cy - e.clientY) * SHOCK_STRENGTH * falloff;
        d.vx = pushX * 3;
        d.vy = pushY * 3;
      }
    }
  });

  // â”€â”€ Physics step â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // Simulates InertiaPlugin (deceleration) then elastic.out return.
  // Spring constants tuned to match returnDuration â‰ˆ 1.5s with elastic feel.
  const SPRING_K   = 80;   // stiffness
  const SPRING_D   = 14;   // damping (critically damped â‰ˆ 2âˆšk â†’ ~18, slightly under for bounce)
  const MAX_OFFSET = 60;   // clamp so dots don't fly off screen

  function stepDots(dt) {
    for (const d of dots) {
      if (d.state === 'idle') continue;

      if (d.state === 'pushed') {
        // Inertia: decelerate velocity
        const spd = Math.hypot(d.vx, d.vy);
        const decel = Math.min(RESISTANCE * dt, spd);
        if (spd > 0) {
          d.vx -= (d.vx / spd) * decel;
          d.vy -= (d.vy / spd) * decel;
        }
        d.ox += d.vx * dt;
        d.oy += d.vy * dt;
        // clamp
        d.ox = Math.max(-MAX_OFFSET, Math.min(MAX_OFFSET, d.ox));
        d.oy = Math.max(-MAX_OFFSET, Math.min(MAX_OFFSET, d.oy));

        if (Math.hypot(d.vx, d.vy) < 1) {
          d.state = 'returning';
          d.vx = 0; d.vy = 0;
        }
      } else if (d.state === 'returning') {
        // Spring toward (0,0) â€” elastic.out feel
        const fx = -SPRING_K * d.ox - SPRING_D * d.vx;
        const fy = -SPRING_K * d.oy - SPRING_D * d.vy;
        d.vx += fx * dt;
        d.vy += fy * dt;
        d.ox += d.vx * dt;
        d.oy += d.vy * dt;

        if (Math.hypot(d.ox, d.oy) < 0.1 && Math.hypot(d.vx, d.vy) < 0.1) {
          d.ox = 0; d.oy = 0; d.vx = 0; d.vy = 0;
          d.state = 'idle';
        }
      }
    }
  }

  // â”€â”€ Draw â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const circlePath = new Path2D();
  circlePath.arc(0, 0, DOT_SIZE / 2, 0, Math.PI * 2);

  function lerp(a, b, t) { return a + (b - a) * t; }

  function draw() {
    ctx.clearRect(0, 0, canvas.width / DPR, canvas.height / DPR);

    for (const d of dots) {
      const ox = d.cx + d.ox;
      const oy = d.cy + d.oy;
      const dx = d.cx - ptr.x;
      const dy = d.cy - ptr.y;
      const dsq = dx * dx + dy * dy;

      let r, g, b;
      if (dsq <= PROX_SQ) {
        const t = 1 - Math.sqrt(dsq) / PROXIMITY;
        r = Math.round(lerp(BASE_COLOR.r, ACTIVE_COLOR.r, t));
        g = Math.round(lerp(BASE_COLOR.g, ACTIVE_COLOR.g, t));
        b = Math.round(lerp(BASE_COLOR.b, ACTIVE_COLOR.b, t));
      } else {
        r = BASE_COLOR.r; g = BASE_COLOR.g; b = BASE_COLOR.b;
      }

      ctx.save();
      ctx.translate(ox, oy);
      ctx.fillStyle = `rgb(${r},${g},${b})`;
      ctx.fill(circlePath);
      ctx.restore();
    }
  }

  // â”€â”€ Loop â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  let lastFrame = performance.now();
  function frame(now) {
    const dt = Math.min((now - lastFrame) / 1000, 0.05); // cap at 50ms
    lastFrame = now;
    stepDots(dt);
    draw();
    requestAnimationFrame(frame);
  }
  requestAnimationFrame(frame);
})();

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   5. POSTS MARQUEE â€” same approach as DEX LogoLoop, speed 70 px/s
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
(function() {
  const track  = document.getElementById('postsTrack');
  const outer  = document.getElementById('postsOuter');
  if (!track || !outer) return;

  const POSTS_GAP     = 24;   // must match CSS gap
  const TARGET_SPEED  = 70;   // px/s
  const SMOOTH_TAU    = 0.25;

  // Collect original cards and duplicate until track fills viewport + 2x
  function buildSeq(isFirst) {
    const seq = document.createElement('div');
    seq.className = 'posts-seq';
    seq.style.cssText = 'display:flex;align-items:flex-start;gap:' + POSTS_GAP + 'px;padding-right:' + POSTS_GAP + 'px;flex-shrink:0;';
    seq.setAttribute('aria-hidden', isFirst ? 'false' : 'true');
    origCards.forEach(c => {
      const clone = c.cloneNode(true);
      seq.appendChild(clone);
    });
    return seq;
  }

  // Grab the original cards before we mess with the DOM
  const origCards = Array.from(track.querySelectorAll('.post-card'));
  // Clear track
  track.innerHTML = '';
  track.style.cssText = 'display:flex;align-items:flex-start;width:max-content;will-change:transform;user-select:none;padding:16px 0 24px;';

  function ensureEnough() {
    const vw = outer.clientWidth;
    let firstSeq = track.querySelector('.posts-seq');
    if (!firstSeq) { firstSeq = buildSeq(true); track.appendChild(firstSeq); }
    const seqW = firstSeq.getBoundingClientRect().width;
    if (seqW === 0) return 0;
    const needed = Math.ceil(vw / seqW) + 2;
    const current = track.querySelectorAll('.posts-seq').length;
    for (let i = current; i < needed; i++) track.appendChild(buildSeq(false));
    return seqW;
  }

  let seqWidth  = 0;
  let velocity  = 0;
  let offset    = 0;
  let lastTs    = null;
  let isHovered = false;

  outer.addEventListener('mouseenter', () => isHovered = true);
  outer.addEventListener('mouseleave', () => isHovered = false);

  window.addEventListener('DOMContentLoaded', () => { seqWidth = ensureEnough() || 0; });
  window.addEventListener('resize', () => { seqWidth = ensureEnough() || seqWidth; });
  document.fonts.ready.then(() => { seqWidth = ensureEnough() || seqWidth; });

  // Kick off immediately too
  seqWidth = ensureEnough() || 0;

  function animatePosts(ts) {
    if (lastTs === null) lastTs = ts;
    const dt = Math.max(0, ts - lastTs) / 1000;
    lastTs = ts;

    const target = isHovered ? 0 : TARGET_SPEED;
    const ease   = 1 - Math.exp(-dt / SMOOTH_TAU);
    velocity    += (target - velocity) * ease;

    if (seqWidth > 0) {
      offset = ((offset + velocity * dt) % seqWidth + seqWidth) % seqWidth;
      track.style.transform = 'translate3d(' + (-offset) + 'px, 0, 0)';
    }
    requestAnimationFrame(animatePosts);
  }
  requestAnimationFrame(animatePosts);
})();

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   AIRDROP CALCULATOR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
(function() {
  const PRESETS = {
    nado:       { fdv: 1.5,  totalPoints: 43000000,   supplyPct: 8  },
    variational:{ fdv: 0.6,  totalPoints: 9300000,    supplyPct: 30 },
    treadfi:    { fdv: 0.2,  totalPoints: 2800000,    supplyPct: 15 },
    '01exchange':{ fdv: 0.4, totalPoints: 10000000,   supplyPct: 15 },
    extended:   { fdv: 0.5,  totalPoints: 77000000,   supplyPct: 30 },
    pacifica:   { fdv: 0.6,  totalPoints: 600000000,  supplyPct: 20 },
    grvt:       { fdv: 0.7,  totalPoints: 7700000,    supplyPct: 22 },
    ethereal:   { fdv: 0.5,  totalPoints: 10000000,   supplyPct: 15 },
    edgex:      { fdv: 2,    totalPoints: 30000000,   supplyPct: 30 },
  };

  const DEX_LABELS = {
    nado: 'Nado', variational: 'Variational', treadfi: 'TreadFi',
    '01exchange': '01Exchange', extended: 'Extended', pacifica: 'Pacifica',
    grvt: 'GRVT', ethereal: 'Ethereal', edgex: 'EdgeX',
  };

  let activeDex = 'nado';

  const inpMyPoints    = document.getElementById('inp-mypoints');
  const inpFdv         = document.getElementById('inp-fdv');
  const inpTotal       = document.getElementById('inp-totalpoints');
  const inpSupply      = document.getElementById('inp-supply');

  const resAirdrop = document.getElementById('resAirdrop');
  const resPool    = document.getElementById('resPool');
  const resShare   = document.getElementById('resShare');
  const resPrice   = document.getElementById('resPricePerPoint') || document.getElementById('resPrice');
  const resTier    = document.getElementById('resTier');
  const resultCard = document.getElementById('resultCard');

  function loadPreset(dex) {
    const p = PRESETS[dex];
    inpFdv.value    = p.fdv;
    inpTotal.value  = p.totalPoints;
    inpSupply.value = p.supplyPct;
    calculate();
  }

  function getTier(usd) {
    if (usd <= 0)      return { label: 'â€”', cls: '' };
    if (usd <= 500)    return { label: 'ğŸ¦  Plankton', cls: 'tier-plankton' };
    if (usd <= 1500)   return { label: 'ğŸ¦ Shrimp',   cls: 'tier-shrimp'   };
    if (usd <= 7999)   return { label: 'ğŸ¬ Dolphin',  cls: 'tier-dolphin'  };
    if (usd <= 14999)  return { label: 'ğŸ¦ˆ Shark',    cls: 'tier-shark'    };
    return               { label: 'ğŸ‹ Whale',    cls: 'tier-whale'    };
  }

  function fmt(n, decimals = 2) {
    return n.toLocaleString('en-US', { minimumFractionDigits: decimals, maximumFractionDigits: decimals });
  }

  function calculate() {
    const myPts  = parseFloat(inpMyPoints.value) || 0;
    const fdv    = parseFloat(inpFdv.value)      || 0;
    const total  = parseFloat(inpTotal.value)    || 0;
    const supply = parseFloat(inpSupply.value)   || 0;

    if (!total || !fdv || !supply) {
      resAirdrop.textContent = '$0';
      resPool.textContent    = 'â€”';
      resShare.textContent   = 'â€”';
      resPrice.textContent   = 'â€”';
      resTier.textContent    = 'â€”';
      resTier.className      = 'result-tier';
      resultCard.classList.remove('has-value');
      return;
    }

    const poolUsd   = fdv * 1e9 * (supply / 100);       // total airdrop $
    const share     = myPts / total;                      // user fraction
    const airdropUsd = share * poolUsd;
    const pricePerPt = total > 0 ? poolUsd / total : 0;

    resAirdrop.textContent = '$' + fmt(airdropUsd, 0);
    resPool.textContent    = '$' + fmt(poolUsd / 1e6, 2) + 'M';
    resShare.textContent   = (share * 100).toFixed(4) + '%';
    resPrice.textContent   = '$' + pricePerPt.toFixed(6);

    const tier = getTier(airdropUsd);
    resTier.textContent    = tier.label;
    resTier.className      = 'result-tier ' + tier.cls;
    resultCard.classList.toggle('has-value', airdropUsd > 0 && myPts > 0);
  }

  // Tab switching
  document.getElementById('dexTabs').addEventListener('click', e => {
    const tab = e.target.closest('.dex-tab');
    if (!tab) return;
    document.querySelectorAll('.dex-tab').forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
    activeDex = tab.dataset.dex;
    loadPreset(activeDex);
  });

  // Recalculate on input
  [inpMyPoints, inpFdv, inpTotal, inpSupply].forEach(el => {
    el.addEventListener('input', calculate);
  });

  // Share on X
  document.getElementById('btnShareX').addEventListener('click', () => {
    const dexLabel = DEX_LABELS[activeDex] || activeDex;
    const amount   = resAirdrop.textContent;
    const text = `My possible ${dexLabel} drop: ${amount}\nCalculate yours https://branxi.app/`;
    window.open('https://x.com/intent/post?text=' + encodeURIComponent(text), '_blank');
  });

  // Create Image modal
  document.getElementById('btnCreateImage').addEventListener('click', () => {
    document.getElementById('imageModal').classList.add('open');
  });
  document.getElementById('modalClose').addEventListener('click', () => {
    document.getElementById('imageModal').classList.remove('open');
  });
  document.getElementById('imageModal').addEventListener('click', e => {
    if (e.target === document.getElementById('imageModal'))
      document.getElementById('imageModal').classList.remove('open');
  });

  // Template selection â†’ apply to result card background
  let selectedTemplate = null;
  const btnDownload = document.getElementById('btnDownload');
  const cardBgImg   = document.getElementById('cardBgImg');

  document.getElementById('templateGrid').addEventListener('click', e => {
    const slot = e.target.closest('.template-slot');
    if (!slot) return;
    document.querySelectorAll('.template-slot').forEach(s => s.classList.remove('selected'));
    slot.classList.add('selected');
    selectedTemplate = slot.dataset.template;

    // Apply as card background
    cardBgImg.style.backgroundImage = `url('${selectedTemplate}')`;
    cardBgImg.classList.add('visible');

    btnDownload.disabled = false;
    btnDownload.style.opacity = '1';
    btnDownload.style.cursor = 'pointer';

    // Close modal after short delay
    setTimeout(() => document.getElementById('imageModal').classList.remove('open'), 300);
  });

  // Download â€” draws result card on top of selected template image
  btnDownload.addEventListener('click', () => {
    if (!selectedTemplate) return;

    const dexLabel   = DEX_LABELS[activeDex] || activeDex;
    const airdrop    = resAirdrop.textContent;
    const pool       = resPool.textContent;
    const share      = resShare.textContent;
    const price      = resPrice.textContent;
    const tierText   = resTier.textContent;

    const W = 1200, H = 800;
    const canvas = document.createElement('canvas');
    canvas.width = W; canvas.height = H;
    const ctx = canvas.getContext('2d');

    const bg = new Image();
    bg.crossOrigin = 'anonymous';
    bg.onload = () => {
      // Background
      ctx.drawImage(bg, 0, 0, W, H);

      // Dark overlay for readability
      ctx.fillStyle = 'rgba(0,0,0,0.45)';
      ctx.fillRect(0, 0, W, H);

      // Card panel
      const cx = W / 2, cy = H / 2;
      const cw = 700, ch = 380;
      const rx = cx - cw/2, ry = cy - ch/2;
      ctx.save();
      roundRect(ctx, rx, ry, cw, ch, 24);
      ctx.fillStyle = 'rgba(10,10,14,0.82)';
      ctx.fill();
      ctx.strokeStyle = 'rgba(0,234,255,0.35)';
      ctx.lineWidth = 1.5;
      ctx.stroke();
      ctx.restore();

      // Tier
      ctx.font = '600 15px "DM Mono", monospace';
      ctx.fillStyle = 'rgba(255,255,255,0.45)';
      ctx.textAlign = 'center';
      ctx.fillText(tierText, cx, ry + 44);

      // DEX name
      ctx.font = '700 18px "DM Mono", monospace';
      ctx.fillStyle = '#00eaff';
      ctx.fillText(dexLabel.toUpperCase(), cx, ry + 76);

      // Airdrop label
      ctx.font = '500 13px "DM Mono", monospace';
      ctx.fillStyle = 'rgba(255,255,255,0.35)';
      ctx.fillText('YOUR POTENTIAL AIRDROP', cx, ry + 112);

      // Airdrop value
      ctx.font = '800 72px "Space Grotesk", sans-serif';
      ctx.fillStyle = '#ffffff';
      ctx.fillText(airdrop, cx, ry + 196);

      // Divider
      ctx.strokeStyle = 'rgba(255,255,255,0.08)';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(rx + 40, ry + 222); ctx.lineTo(rx + cw - 40, ry + 222);
      ctx.stroke();

      // Stats row
      const stats = [
        { label: 'TOTAL POOL', val: pool },
        { label: 'YOUR SHARE', val: share },
        { label: 'PRICE/POINT', val: price },
      ];
      const statW = (cw - 80) / 3;
      stats.forEach((s, i) => {
        const sx = rx + 40 + statW * i + statW / 2;
        ctx.font = '500 11px "DM Mono", monospace';
        ctx.fillStyle = 'rgba(255,255,255,0.28)';
        ctx.fillText(s.label, sx, ry + 254);
        ctx.font = '600 16px "DM Mono", monospace';
        ctx.fillStyle = 'rgba(255,255,255,0.8)';
        ctx.fillText(s.val, sx, ry + 278);
      });

      // Branding
      ctx.font = '500 13px "DM Mono", monospace';
      ctx.fillStyle = 'rgba(255,255,255,0.25)';
      ctx.fillText('branxi.app', cx, ry + ch - 22);

      // Download
      const link = document.createElement('a');
      link.download = `branxi-${activeDex}-airdrop.png`;
      link.href = canvas.toDataURL('image/png');
      link.click();
    };
    bg.onerror = () => alert('Could not load template image. Make sure the file exists in assets/templates/');
    bg.src = selectedTemplate;
  });

  function roundRect(ctx, x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
    ctx.lineTo(x + w, y + h - r);
    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    ctx.lineTo(x + r, y + h);
    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
  }

  // Init
  loadPreset(activeDex);
})();

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PILL NAV
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
(function() {
  const nav = document.getElementById('pillNav');
  const indicator = document.getElementById('pillIndicator');
  const btns = nav.querySelectorAll('.pill-btn');

  function moveIndicator(btn) {
    indicator.style.width = btn.offsetWidth + 'px';
    indicator.style.transform = `translateX(${btn.offsetLeft - 5}px)`;
  }

  // Init position
  moveIndicator(btns[0]);

  btns.forEach(btn => {
    btn.addEventListener('click', () => {
      btns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      moveIndicator(btn);

      const pageId = 'page-' + btn.dataset.page;
      document.querySelectorAll('.section-page').forEach(p => p.classList.remove('active'));
      document.getElementById(pageId).classList.add('active');
    });
  });
})();

</script>

</body>
</html>
